
# Supabase Configuration

Supabase acts as the state, auth, and realtime backbone for the Nurds Code hybrid architecture.

## Roles & Keys
- **Anon Key (Public):** Safe for client-side use. Used for Auth updates and reading public data.
- **Service Role Key (Secret):** SERVER-SIDE ONLY. Used by Cloudflare Workers and Cloud Run Agent Runtime to bypass RLS.

## Features
- **Auth:** Manages User and Agent identities.
- **Realtime:** Enables live updates for Job status (`agent_jobs`) and Chat (`messages`).
- **Storage:** Stores build artifacts and user uploads.
- **Vectors:** `pgvector` extension enabled for RAG (Scholar_Ang).

## Schema
See `migrations/` folder for latest schema definitions.
- `agent_jobs`: Tracks execution requests sent to Cloud Run.
- `artifacts`: Tracks files/assets generated by agents.
