name = "nurds-platform-api"
main = "workers/src/index.ts"
compatibility_date = "2025-12-11"

[[d1_databases]]
binding = "DB"
database_name = "nurds-core-db"
database_id = "e69e006b-5748-4ed2-b823-943db3cc0759"
migrations_dir = "workers/migrations"

[vars]
# === Light Core: Cloudflare AI Gateway ===
AI_GATEWAY_URL = "https://gateway.ai.cloudflare.com/v1/YOUR_ACCOUNT_ID/nurdscode-gateway"

# === Heavy Swarm: GCP Cloud Run Endpoints (OPTIONAL - Disabled for Cloudflare-only deployment) ===
# ACHEEVY_ENDPOINT = "https://acheevy-orchestrator-REPLACE_ME.run.app"
# II_RESEARCHER_ENDPOINT = "https://ii-researcher-REPLACE_ME.run.app"
# CODEX_ENDPOINT = "https://codex-agent-REPLACE_ME.run.app"
# COMMON_GROUND_ENDPOINT = "https://common-ground-REPLACE_ME.run.app"

# === Agent Runtime URL (Optional for Cloudflare-only) ===
AGENT_RUNTIME_URL = "https://placeholder.example.com"

# === Circuit Box: Plugs (Disabled by default) ===
ENABLE_HIGGSFIELD = "false"
ENABLE_TWELVE_LABS = "false"
ENABLE_SAM = "false"
ENABLE_ELEVENLABS = "false"

# === Model Routing ===
DEFAULT_BRAINSTORM_MODEL = "gemini-2.0-flash-exp"
DEFAULT_NURDOUT_MODEL = "glm-4-9b"
DEFAULT_AGENT_MODEL = "gemini-2.0-flash-thinking-exp"
DEFAULT_EDIT_MODEL = "gemini-2.0-flash-exp"

# === Supabase (pgvector for embeddings) ===
SUPABASE_PROJECT_URL = "https://lgupmlysczbxluffnadq.supabase.co"

# === Timeouts ===
AGENT_RUNTIME_TIMEOUT_MS = 300000
LIGHT_TIMEOUT_MS = 30000
HEAVY_TIMEOUT_MS = 300000

# === Feature Flags (Cloudflare-only deployment) ===
ENABLE_SWARM = "false"
ENABLE_ORACLE_FRAMEWORK = "false"
ENABLE_KINGMODE = "true"
CLOUDFLARE_ONLY = "true"
